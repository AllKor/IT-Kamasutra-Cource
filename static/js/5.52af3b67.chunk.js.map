{"version":3,"sources":["utils/validators/validators.js","components/FormControls/FormsControls.jsx","components/FormControls/FormsControls.module.css","hoc/withRedirectComponent.js","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.js"],"names":["requiredField","value","maxLengthCreator","maxLength","length","Textarea","input","meta","props","hasError","touched","error","className","s","form__control","form__input","form__error","Element","module","exports","mapStateToProps","state","isAuth","auth","withRedirectComponent","Component","RedirectComponent","this","to","React","connect","DialogItem","name","id","path","item","dialogs__link","activeClassName","active","Message","messageText","maxLength10","DialogNewDialogMessageReduxForm","reduxForm","form","handleSubmit","onSubmit","Field","dialogs__text","component","validate","type","Dialogs","addNewMessage","dialogsData","messagesData","dialogs","dialogs__items","map","dialog","dialogs__messages","message","dialogs__add","formData","newMessageBody","DialogsContainer","compose","dialogsPage","dispatch","addMessageActionCreator"],"mappings":"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","file":"static/js/5.52af3b67.chunk.js","sourcesContent":["export const requiredField = value => {\r\n\r\n    if(value) return undefined\r\n\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n\r\n    if(value && value.length > maxLength) return `Max length ${maxLength} symbols`\r\n\r\n    return undefined\r\n}","import React from 'react'\r\nimport s from './FormsControls.module.css'\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={hasError ? `${s.form__control} ${s.error}` : s.form__control}>\r\n            <textarea className={s.form__input} {...props} {...input} />\r\n            {hasError && <span className={s.form__error}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={hasError ? `${s.form__control} ${s.error}` : s.form__control}>\r\n            <input className={s.form__input} {...props} {...input} />\r\n            {hasError && <span className={s.form__error}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Element = Element => ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={hasError ? `${s.form__control} ${s.error}` : s.form__control}>\r\n            <Element className={s.form__input} {...props} {...input} />\r\n        {hasError && <span className={s.form__error}>{meta.error}</span>}\r\n    </div>\r\n    );\r\n  };\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form__control\":\"FormsControls_form__control__trMBq\",\"error\":\"FormsControls_error__3cbPB\",\"form__error\":\"FormsControls_form__error__1ghmy\"};","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n      isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withRedirectComponent = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) {\r\n                return <Redirect to={'/login'} />\r\n            }\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps, null)(RedirectComponent)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"DialogItem_item__zBW5X\",\"dialogs__link\":\"DialogItem_dialogs__link__1GgRE\",\"active\":\"DialogItem_active__2waoR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2U-gV\",\"dialogs__messages\":\"Dialogs_dialogs__messages__2NSEM\",\"dialogs__add\":\"Dialogs_dialogs__add__KejZ2\",\"dialogs__text\":\"Dialogs_dialogs__text__o7ewn\"};","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from \"./DialogItem.module.css\";\r\n\r\nconst DialogItem = ({ name, id }) => {\r\n  let path = `/dialogs/${id}`;\r\n\r\n  return (\r\n    <div className={s.item}>\r\n      <NavLink className={s.dialogs__link} activeClassName={s.active} to={path}>\r\n        {name}\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\n\r\nconst Message = ({ messageText }) => {\r\n  return <li>{messageText}</li>;\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { maxLengthCreator, requiredField } from \"../../utils/validators/validators\";\r\nimport { Textarea } from \"../FormControls/FormsControls\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport s from \"./Dialogs.module.css\";\r\nimport Message from \"./Message/Message\";\r\n\r\nconst Dialogs = ({state, addNewMessage}) => {\r\n\r\n  const { dialogsData, messagesData } = state;\r\n\r\n  let onNewMessage = (formData) => {\r\n    addNewMessage(formData.newMessageBody);\r\n  }\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogs__items}>\r\n        {dialogsData.map(dialog => (\r\n          <DialogItem key={dialog.id} id={dialog.id} name={dialog.name} />\r\n        ))}\r\n      </div>\r\n      {/* /.dialogs__items */}\r\n      <ul className={s.dialogs__messages}>\r\n        {messagesData.map(item => (\r\n          <Message key={item.id} id={item.id} messageText={item.message} />\r\n        ))}\r\n        <li className={s.dialogs__add}>\r\n          <DialogNewDialogMessageReduxForm onSubmit={onNewMessage} />\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst NewDialogMessageForm = ({handleSubmit}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <Field\r\n        name={\"newMessageBody\"}\r\n        className={s.dialogs__text}\r\n        component={Textarea}\r\n        validate={[requiredField, maxLength10]}\r\n      />\r\n      <button type=\"submit\">Add Message</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nconst DialogNewDialogMessageReduxForm = reduxForm({form: \"addNewDialogMessage\"})(NewDialogMessageForm)\r\n\r\nexport default Dialogs;\r\n","import { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withRedirectComponent } from \"../../hoc/withRedirectComponent\";\r\nimport { addMessageActionCreator } from \"../../redux/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\n\r\n\r\n// const DialogsContainer = ({state, dispatch}) => {\r\n\r\n//   let addNewMessage= () => {\r\n    \r\n//     dispatch(addMessageActionCreator())\r\n//   }\r\n\r\n//   let changeMessage = (text) => {\r\n    \r\n//     dispatch(changeNewMessageTextActionCreator(text))\r\n//   }\r\n\r\n//   return <Dialogs state={state} addNewMessage={addNewMessage} changeMessage={changeMessage} />\r\n// };\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    state: state.dialogsPage\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n      addNewMessage: (messageText) => {\r\n        dispatch(addMessageActionCreator(messageText))\r\n    }\r\n  }\r\n}\r\n\r\nconst DialogsContainer = compose(connect(mapStateToProps, mapDispatchToProps),withRedirectComponent)(Dialogs)\r\n\r\nexport default DialogsContainer\r\n"],"sourceRoot":""}