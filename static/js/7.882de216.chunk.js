(this["webpackJsonpit-kamasutra"]=this["webpackJsonpit-kamasutra"]||[]).push([[7],{299:function(e,n,t){e.exports={pagination:"Paginator_pagination__2lRAk",pagination__item:"Paginator_pagination__item__1xyTX",selected:"Paginator_selected__1ZRBa",btn:"Paginator_btn__1w705"}},300:function(e,n,t){e.exports={user__item:"User_user__item__RVtC2",user__socials:"User_user__socials__bPWdm",user__image:"User_user__image__H0xrW",user__content:"User_user__content__2Lwxj",user__btn:"User_user__btn__eyG1j"}},301:function(e,n,t){e.exports={users__list:"Users_users__list__3IG6h",paginations:"Users_paginations__w_nNB"}},306:function(e,n,t){"use strict";t.r(n);var r=t(35),s=t(36),o=t(38),i=t(37),a=t(26),u=t(84),l=t(0),c=t.n(l),g=t(32),p=t(299),_=t.n(p),f=t(2),h=function(e){for(var n=e.totalUsersCount,t=e.pageSize,r=e.currentPage,s=e.onSetCurrentPage,o=Math.ceil(n/t),i=[],a=Math.max(r-5,1);a<=Math.max(1,Math.min(r+5,o));a++)i.push(a);return Object(f.jsx)("div",{className:_.a.pagination,children:i.map((function(e){return Object(f.jsx)("span",{onClick:function(){return s(e)},className:r===e?"".concat(_.a.pagination__item," ").concat(_.a.selected):_.a.pagination__item,children:e},e)}))})},j=t(300),d=t.n(j),b=t(82),m=t(10),w=function(e){var n=e.user,t=e.followingInProgress,r=e.followingThunk,s=e.isAuth,o=n.followed?Object(f.jsx)("button",{className:d.a.user__btn,disabled:s?t.some((function(e){return e===n.id})):!s,onClick:function(){r("unfollow",n.id)},children:"Unfollow"}):Object(f.jsx)("button",{className:d.a.user__btn,disabled:s?t.some((function(e){return e===n.id})):!s,onClick:function(){r("follow",n.id)},children:"Follow"});return Object(f.jsxs)("li",{className:d.a.user__item,children:[Object(f.jsxs)("span",{className:d.a.user__socials,children:[Object(f.jsx)("div",{className:d.a.user__image,children:Object(f.jsx)(m.b,{to:"/profile/"+n.id,children:Object(f.jsx)("img",{src:n.photos.small?n.photos.small:b.a,alt:"user-avatar"})})}),Object(f.jsx)("div",{children:o})]}),Object(f.jsxs)("span",{className:d.a.user__content,children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("div",{className:"user__name",children:n.name}),Object(f.jsx)("div",{className:"user__status",children:n.status})]}),Object(f.jsxs)("span",{children:[Object(f.jsx)("div",{className:"user__country",children:"Belarus"}),Object(f.jsx)("div",{className:"user__city",children:"Minsk"})]})]})]})},x=t(301),P=t.n(x),O=function(e){var n=e.users,t=e.totalUsersCount,r=e.pageSize,s=e.currentPage,o=e.onSetCurrentPage,i=e.follow,a=e.unfollow,u=e.isFetching,l=e.followingInProgress,c=e.followingThunk,p=e.isAuth;return Object(f.jsxs)("section",{className:P.a.users,children:[Object(f.jsxs)("div",{className:P.a.paginations,children:[Object(f.jsx)("button",{onClick:function(){return o(1)},children:"first"}),Object(f.jsx)(h,{totalUsersCount:t,pageSize:r,currentPage:s,onSetCurrentPage:o}),Object(f.jsx)("button",{onClick:function(){return o(Math.ceil(t/r))},children:"last"})]}),Object(f.jsx)("h1",{className:P.a.users__title,children:"Users"}),u?Object(f.jsx)(g.a,{}):Object(f.jsx)("ul",{className:P.a.users__list,children:n.map((function(e){return Object(f.jsx)(w,{user:e,follow:i,unfollow:a,followingInProgress:l,followingThunk:c,isAuth:p},e.id)}))})]})};function v(e,n){return e===n}function k(e,n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,s=0;s<r;s++)if(!e(n[s],t[s]))return!1;return!0}function C(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return n}var y=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];var o=0,i=r.pop(),a=C(r),u=e.apply(void 0,[function(){return o++,i.apply(null,arguments)}].concat(t)),l=e((function(){for(var e=[],n=a.length,t=0;t<n;t++)e.push(a[t].apply(null,arguments));return u.apply(null,e)}));return l.resultFunc=i,l.dependencies=a,l.recomputations=function(){return o},l.resetRecomputations=function(){return o=0},l}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,t=null,r=null;return function(){return k(n,t,arguments)||(r=e.apply(null,arguments)),t=arguments,r}}));var U=y((function(e){return e.usersPage.users}),(function(e){return e})),N=function(e){return e.usersPage.pageSize},S=function(e){return e.usersPage.totalUsersCount},A=function(e){return e.usersPage.currentPage},F=function(e){return e.usersPage.isFetching},I=function(e){return e.usersPage.followingInProgress},T=t(63),z=function(e){Object(o.a)(t,e);var n=Object(i.a)(t);function t(){var e;Object(r.a)(this,t);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).onSetCurrentPage=function(n){e.props.setCurrentPage(n),e.props.getUsersThunk(n,e.props.pageSize)},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(O,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onSetCurrentPage:this.onSetCurrentPage,follow:this.props.follow,unfollow:this.props.unfollow,isFetching:this.props.isFetching,followingInProgress:this.props.followingInProgress,toggleFollowingInProgress:this.props.toggleFollowingInProgress,followingThunk:this.props.followingThunk,isAuth:this.props.isAuth})})}}]),t}(c.a.Component),M=Object(a.b)((function(e){return{users:U(e),pageSize:N(e),totalUsersCount:S(e),currentPage:A(e),isFetching:F(e),followingInProgress:I(e),isAuth:Object(T.a)(e)}}),{follow:u.c,unfollow:u.g,setCurrentPage:u.a,toggleFollowingInProgress:u.f,getUsersThunk:u.e,followingThunk:u.d})(z);n.default=M}}]);
//# sourceMappingURL=7.882de216.chunk.js.map