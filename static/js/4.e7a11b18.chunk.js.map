{"version":3,"sources":["utils/validators/validators.js","components/FormControls/FormsControls.jsx","components/FormControls/FormsControls.module.css","hoc/withRedirectComponent.js","components/Intro/Intro.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Intro/Intro.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["requiredField","value","maxLengthCreator","maxLength","length","Textarea","input","meta","props","hasError","touched","error","className","s","form__control","form__input","form__error","Element","module","exports","mapStateToProps","state","isAuth","auth","withRedirectComponent","Component","RedirectComponent","this","to","React","connect","Intro","intro","intro__image","src","alt","Post","message","likesCount","post__item","post__avatar","post__text","post__likes","textarea","maxLength10","MyReduxPostsForm","reduxForm","form","handleSubmit","onSubmit","posts__new","Field","name","component","validate","MyPosts","postsData","addPost","postsElements","map","post","likes","id","posts","posts__title","formData","newPost","posts__list","MyPostsContainer","profilePage","newPostText","dispatch","addPostActionCreator","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","ProfileInfo","profile","status","onChangeStatus","useState","editMode","setEditMode","newUserStatus","setNewUserStatus","useEffect","userStatus","user__statusInput","autoFocus","onChange","e","target","onBlur","type","placeholder","onDoubleClick","user__statusText","user","user__photo","user__img","photos","small","user__content","user__status","user__name","fullName","user__description","aboutMe","Preloader","Profile","ProfileContainer","bind","userId","match","params","authUserInfo","history","setUserProfileThunk","getStatusThunk","text","updateStatusThunk","compose","userProfile","setUserProfileThunkCreator","getStatusThunkCreator","updateStatusThunkCreator","withRouter"],"mappings":"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","file":"static/js/4.e7a11b18.chunk.js","sourcesContent":["export const requiredField = value => {\r\n\r\n    if(value) return undefined\r\n\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n\r\n    if(value && value.length > maxLength) return `Max length ${maxLength} symbols`\r\n\r\n    return undefined\r\n}","import React from 'react'\r\nimport s from './FormsControls.module.css'\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={hasError ? `${s.form__control} ${s.error}` : s.form__control}>\r\n            <textarea className={s.form__input} {...props} {...input} />\r\n            {hasError && <span className={s.form__error}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={hasError ? `${s.form__control} ${s.error}` : s.form__control}>\r\n            <input className={s.form__input} {...props} {...input} />\r\n            {hasError && <span className={s.form__error}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Element = Element => ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={hasError ? `${s.form__control} ${s.error}` : s.form__control}>\r\n            <Element className={s.form__input} {...props} {...input} />\r\n        {hasError && <span className={s.form__error}>{meta.error}</span>}\r\n    </div>\r\n    );\r\n  };\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form__control\":\"FormsControls_form__control__trMBq\",\"error\":\"FormsControls_error__3cbPB\",\"form__error\":\"FormsControls_form__error__1ghmy\"};","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n      isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withRedirectComponent = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) {\r\n                return <Redirect to={'/login'} />\r\n            }\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps, null)(RedirectComponent)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"intro__image\":\"Intro_intro__image__38Ndr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts__list\":\"MyPosts_posts__list__30MxU\",\"posts__title\":\"MyPosts_posts__title__3vhOb\",\"posts__new\":\"MyPosts_posts__new__1Y92A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post__item\":\"Post_post__item__3_WYC\",\"post__avatar\":\"Post_post__avatar__3GKzK\",\"post__text\":\"Post_post__text__1_oK-\",\"post__likes\":\"Post_post__likes__3Q8_Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"ProfileInfo_user__24QWz\",\"user__photo\":\"ProfileInfo_user__photo__3rIT_\",\"user__img\":\"ProfileInfo_user__img__3Nv6a\",\"user__content\":\"ProfileInfo_user__content__LzkIp\",\"user__status\":\"ProfileInfo_user__status__2fcBR\",\"user__statusInput\":\"ProfileInfo_user__statusInput__z-qgA\",\"user__statusText\":\"ProfileInfo_user__statusText__cK8Zz\"};","import React from 'react'\r\nimport s from './Intro.module.css'\r\n\r\nconst Intro = () => {\r\n    return (\r\n        <div className={s.intro}>\r\n        <img\r\n          className={s.intro__image}\r\n          src=\"https://helpx.adobe.com/content/dam/help/en/photoshop/using/convert-color-image-black-white/jcr_content/main-pars/before_and_after/image-before/Landscape-Color.jpg\"\r\n          alt=\"img\"\r\n        />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Intro","import React from \"react\";\r\nimport s from \"./Post.module.css\";\r\n\r\nconst Post = ({ message, likesCount }) => {\r\n  return (\r\n    <li className={s.post__item}>\r\n      <img\r\n        className={s.post__avatar}\r\n        src=\"http://avatars.mds.yandex.net/get-kino-vod-films-gallery/28788/47e2fd514411e18b76af786d7417062d/280x178_2\"\r\n        alt=\"avatar\"\r\n      />\r\n      <p className={s.post__text}>{message}</p>\r\n      <div className={s.post__likes}>like: {likesCount}</div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { maxLengthCreator, requiredField } from \"../../../utils/validators/validators\";\r\nimport { Element} from \"../../FormControls/FormsControls\";\r\nimport s from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\n\r\nconst textarea = Element(\"textarea\")\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst MyPostsForm = ({handleSubmit}) => {\r\n  \r\n  return (\r\n    <form onSubmit={handleSubmit} className={s.posts__new}>\r\n        <Field name={\"newPost\"} component={textarea} validate={[requiredField, maxLength10]} />\r\n        <button >Add Post</button>\r\n      </form>\r\n  )\r\n}\r\n\r\nconst MyPosts = ({postsData, addPost}) => {\r\n\r\n  let postsElements = postsData.map(post => <Post key={post.id} likesCount={post.likes} message={post.message} />)\r\n\r\n  let newPost = (formData) => {\r\n    addPost(formData.newPost)\r\n  }\r\n\r\n  return (\r\n    <div className={s.posts}>\r\n      <h3 className={s.posts__title}>My Posts</h3>\r\n      <MyReduxPostsForm\r\n        onSubmit={newPost}\r\n      />\r\n      <ul className={s.posts__list}>\r\n        {postsElements}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\n const MyReduxPostsForm = reduxForm({form: \"addNewPost\"})(MyPostsForm)\r\n\r\nexport default MyPosts\r\n","\r\nimport { connect } from \"react-redux\";\r\nimport { addPostActionCreator } from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    postsData: state.profilePage.postsData,\r\n    newPostText: state.profilePage.newPostText\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPost) => {\r\n      dispatch(addPostActionCreator(newPost))\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer\r\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useEffect, useState } from 'react'\r\nimport Preloader from '../../Preloader/Preloader'\r\nimport s from './ProfileInfo.module.css'\r\n\r\nconst ProfileInfo = ({profile, status, onChangeStatus}) => {\r\n  let userAvatar = \"https://miro.medium.com/max/1838/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg\"\r\n  \r\n  let [editMode, setEditMode] = useState(false)\r\n  let [newUserStatus, setNewUserStatus] = useState(status)\r\n\r\n  useEffect(() => {\r\n    setNewUserStatus(status)\r\n  },[status])\r\n\r\n  const statusHandler= () => {\r\n    setEditMode(false)\r\n    onChangeStatus(newUserStatus)\r\n  }\r\n\r\n  let userStatus = editMode \r\n                        ? <input \r\n                            className={s.user__statusInput}\r\n                            autoFocus={true}\r\n                            onChange={(e) => setNewUserStatus(e.target.value)}\r\n                            onBlur={statusHandler} \r\n                            type=\"text\" \r\n                            placeholder={newUserStatus}\r\n                            value={newUserStatus}\r\n                          /> \r\n                        : <h3 \r\n                            onDoubleClick={() => setEditMode(true)} \r\n                            className={s.user__statusText}\r\n                          >\r\n                            {status || \"Ваш статус\"}\r\n                          </h3>\r\n\r\n  \r\n\r\n  if (!profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  return (\r\n    <div className={s.user}>\r\n      <div className={s.user__photo}>\r\n        <img\r\n          className={s.user__img}\r\n          src={profile.photos?.small ? profile.photos.small : userAvatar}\r\n          alt=\"userAvatar\"\r\n        />\r\n      </div>\r\n      <div className={s.user__content}>\r\n        <div className={s.user__status}>\r\n          {userStatus}\r\n        </div>\r\n        <div className={s.user__name}>Имя: {profile.fullName}</div>\r\n        <div className={s.user__description}>Описание: {profile.aboutMe ? profile.aboutMe : \"Какой-то текст\"}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileInfo","import React from \"react\";\r\nimport Intro from \"../Intro/Intro\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\n\r\nconst Profile = ({profile, status, onChangeStatus}) => {\r\n\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <Intro />\r\n      <ProfileInfo profile={profile} status={status} onChangeStatus={onChangeStatus} />\r\n      <MyPostsContainer  />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Profile from \"./Profile\";\r\nimport { getStatusThunkCreator, setUserProfileThunkCreator, updateStatusThunkCreator} from '../../redux/profileReducer'\r\nimport { withRouter } from \"react-router\";\r\nimport { compose } from \"redux\";\r\nimport { withRedirectComponent } from \"../../hoc/withRedirectComponent\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.onChangeStatus = this.onChangeStatus.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    let userId = this.props.match.params.userId\r\n    if(!userId) {\r\n      userId = this.props.authUserInfo\r\n\r\n      if(!userId) {\r\n        this.props.history.push(\"/login\")\r\n      }\r\n    }\r\n    /* Функция запрашивает данные профиля пользователя на сервере и изменяет их в state profilePage */\r\n    this.props.setUserProfileThunk(userId)\r\n    this.props.getStatusThunk(userId)\r\n  }\r\n\r\n  /* Функция изменяет текст статуса авторизованного пользователя */\r\n  onChangeStatus(text) {\r\n    this.props.updateStatusThunk(text)\r\n  }\r\n\r\n\r\n  render() {\r\n    return <Profile {...this.props} profile={this.props.profile} onChangeStatus={this.onChangeStatus} />\r\n  }\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.userProfile,\r\n    status: state.profilePage.userStatus,\r\n    authUserInfo: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n  setUserProfileThunk: setUserProfileThunkCreator,\r\n  getStatusThunk: getStatusThunkCreator,\r\n  updateStatusThunk: updateStatusThunkCreator\r\n}),\r\nwithRouter,\r\nwithRedirectComponent)\r\n(ProfileContainer)\r\n"],"sourceRoot":""}