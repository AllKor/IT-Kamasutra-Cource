(this["webpackJsonpit-kamasutra"]=this["webpackJsonpit-kamasutra"]||[]).push([[4],{228:function(t,e,s){"use strict";s.d(e,"b",(function(){return r})),s.d(e,"a",(function(){return n}));var r=function(t){if(!t)return"Field is required"},n=function(t){return function(e){if(e&&e.length>t)return"Max length ".concat(t," symbols")}}},229:function(t,e,s){"use strict";s.d(e,"b",(function(){return u})),s.d(e,"a",(function(){return i}));var r=s(3),n=s(238),a=(s(0),s(230)),o=s.n(a),c=s(2),u=function(t){var e=t.input,s=t.meta,a=Object(n.a)(t,["input","meta"]),u=s.touched&&s.error;return Object(c.jsxs)("div",{className:u?"".concat(o.a.form__control," ").concat(o.a.error):o.a.form__control,children:[Object(c.jsx)("textarea",Object(r.a)(Object(r.a)({className:o.a.form__input},a),e)),u&&Object(c.jsx)("span",{className:o.a.form__error,children:s.error})]})},i=function(t){return function(e){var s=e.input,a=e.meta,u=Object(n.a)(e,["input","meta"]),i=a.touched&&a.error;return Object(c.jsxs)("div",{className:i?"".concat(o.a.form__control," ").concat(o.a.error):o.a.form__control,children:[Object(c.jsx)(t,Object(r.a)(Object(r.a)({className:o.a.form__input},u),s)),i&&Object(c.jsx)("span",{className:o.a.form__error,children:a.error})]})}}},230:function(t,e,s){t.exports={form__control:"FormsControls_form__control__trMBq",error:"FormsControls_error__3cbPB",form__error:"FormsControls_form__error__1ghmy"}},233:function(t,e,s){"use strict";s.d(e,"a",(function(){return j}));var r=s(3),n=s(35),a=s(36),o=s(38),c=s(37),u=s(0),i=s.n(u),_=s(26),l=s(5),f=s(2),p=function(t){return{isAuth:t.auth.isAuth}},j=function(t){var e=function(e){Object(o.a)(u,e);var s=Object(c.a)(u);function u(){return Object(n.a)(this,u),s.apply(this,arguments)}return Object(a.a)(u,[{key:"render",value:function(){return this.props.isAuth?Object(f.jsx)(t,Object(r.a)({},this.props)):Object(f.jsx)(l.a,{to:"/login"})}}]),u}(i.a.Component);return Object(_.b)(p,null)(e)}},295:function(t,e,s){t.exports={intro__image:"Intro_intro__image__38Ndr"}},296:function(t,e,s){t.exports={posts__list:"MyPosts_posts__list__30MxU",posts__title:"MyPosts_posts__title__3vhOb",posts__new:"MyPosts_posts__new__1Y92A"}},297:function(t,e,s){t.exports={post__item:"Post_post__item__3_WYC",post__avatar:"Post_post__avatar__3GKzK",post__text:"Post_post__text__1_oK-",post__likes:"Post_post__likes__3Q8_Z"}},298:function(t,e,s){t.exports={user:"ProfileInfo_user__24QWz",user__photo:"ProfileInfo_user__photo__3rIT_",user__img:"ProfileInfo_user__img__3Nv6a",user__content:"ProfileInfo_user__content__LzkIp",user__status:"ProfileInfo_user__status__2fcBR",user__statusInput:"ProfileInfo_user__statusInput__z-qgA",user__statusText:"ProfileInfo_user__statusText__cK8Zz"}},305:function(t,e,s){"use strict";s.r(e);var r=s(3),n=s(35),a=s(36),o=s(81),c=s(38),u=s(37),i=s(0),_=s.n(i),l=s(26),f=s(295),p=s.n(f),j=s(2),m=function(){return Object(j.jsx)("div",{className:p.a.intro,children:Object(j.jsx)("img",{className:p.a.intro__image,src:"https://helpx.adobe.com/content/dam/help/en/photoshop/using/convert-color-image-black-white/jcr_content/main-pars/before_and_after/image-before/Landscape-Color.jpg",alt:"img"})})},b=s(39),h=s(110),d=s(111),O=s(228),x=s(229),v=s(296),g=s.n(v),P=s(297),N=s.n(P),y=function(t){var e=t.message,s=t.likesCount;return Object(j.jsxs)("li",{className:N.a.post__item,children:[Object(j.jsx)("img",{className:N.a.post__avatar,src:"http://avatars.mds.yandex.net/get-kino-vod-films-gallery/28788/47e2fd514411e18b76af786d7417062d/280x178_2",alt:"avatar"}),Object(j.jsx)("p",{className:N.a.post__text,children:e}),Object(j.jsxs)("div",{className:N.a.post__likes,children:["like: ",s]})]})},k=Object(x.a)("textarea"),S=Object(O.a)(10),I=Object(d.a)({form:"addNewPost"})((function(t){var e=t.handleSubmit;return Object(j.jsxs)("form",{onSubmit:e,className:g.a.posts__new,children:[Object(j.jsx)(h.a,{name:"newPost",component:k,validate:[O.b,S]}),Object(j.jsx)("button",{children:"Add Post"})]})})),C=function(t){var e=t.postsData,s=t.addPost,r=e.map((function(t){return Object(j.jsx)(y,{likesCount:t.likes,message:t.message},t.id)}));return Object(j.jsxs)("div",{className:g.a.posts,children:[Object(j.jsx)("h3",{className:g.a.posts__title,children:"My Posts"}),Object(j.jsx)(I,{onSubmit:function(t){s(t.newPost)}}),Object(j.jsx)("ul",{className:g.a.posts__list,children:r})]})},w=Object(l.b)((function(t){return{postsData:t.profilePage.postsData,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(b.a)(e))}}}))(C);var T=s(65);function A(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],r=!0,n=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done)&&(s.push(o.value),!e||s.length!==e);r=!0);}catch(u){n=!0,a=u}finally{try{r||null==c.return||c.return()}finally{if(n)throw a}}return s}}(t,e)||Object(T.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=s(32),z=s(298),B=s.n(z),D=function(t){var e,s=t.profile,r=t.status,n=t.onChangeStatus,a=A(Object(i.useState)(!1),2),o=a[0],c=a[1],u=A(Object(i.useState)(r),2),_=u[0],l=u[1];Object(i.useEffect)((function(){l(r)}),[r]);var f=o?Object(j.jsx)("input",{className:B.a.user__statusInput,autoFocus:!0,onChange:function(t){return l(t.target.value)},onBlur:function(){c(!1),n(_)},type:"text",placeholder:_,value:_}):Object(j.jsx)("h3",{onDoubleClick:function(){return c(!0)},className:B.a.user__statusText,children:r||"\u0412\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441"});return s?Object(j.jsxs)("div",{className:B.a.user,children:[Object(j.jsx)("div",{className:B.a.user__photo,children:Object(j.jsx)("img",{className:B.a.user__img,src:(null===(e=s.photos)||void 0===e?void 0:e.small)?s.photos.small:"https://miro.medium.com/max/1838/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg",alt:"userAvatar"})}),Object(j.jsxs)("div",{className:B.a.user__content,children:[Object(j.jsx)("div",{className:B.a.user__status,children:f}),Object(j.jsxs)("div",{className:B.a.user__name,children:["\u0418\u043c\u044f: ",s.fullName]}),Object(j.jsxs)("div",{className:B.a.user__description,children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",s.aboutMe?s.aboutMe:"\u041a\u0430\u043a\u043e\u0439-\u0442\u043e \u0442\u0435\u043a\u0441\u0442"]})]})]}):Object(j.jsx)(M.a,{})},F=function(t){var e=t.profile,s=t.status,r=t.onChangeStatus;return Object(j.jsxs)("div",{children:[Object(j.jsx)(m,{}),Object(j.jsx)(D,{profile:e,status:s,onChangeStatus:r}),Object(j.jsx)(w,{})]})},U=s(5),K=s(23),q=s(233),E=function(t){Object(c.a)(s,t);var e=Object(u.a)(s);function s(t){var r;return Object(n.a)(this,s),(r=e.call(this,t)).onChangeStatus=r.onChangeStatus.bind(Object(o.a)(r)),r}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authUserInfo)||this.props.history.push("/login"),this.props.setUserProfileThunk(t),this.props.getStatusThunk(t)}},{key:"onChangeStatus",value:function(t){this.props.updateStatusThunk(t)}},{key:"render",value:function(){return Object(j.jsx)(F,Object(r.a)(Object(r.a)({},this.props),{},{profile:this.props.profile,onChangeStatus:this.onChangeStatus}))}}]),s}(_.a.Component);e.default=Object(K.d)(Object(l.b)((function(t){return{profile:t.profilePage.userProfile,status:t.profilePage.userStatus,authUserInfo:t.auth.userId,isAuth:t.auth.isAuth}}),{setUserProfileThunk:b.e,getStatusThunk:b.c,updateStatusThunk:b.f}),U.g,q.a)(E)}}]);
//# sourceMappingURL=4.e7a11b18.chunk.js.map